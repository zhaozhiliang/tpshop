define("api/order",["config/url"],function(e){return{adminOrder:{url:e.sappsDomain+"order/AdminOrder",isOnlyData:1,post:{apiVersion:e.apiVersion,areaCode:"?",token:"?",body:"??"},body:{areaCode:"?",action:"?",orderId:"?",pay_code:"?",consignee:"?",pointId:"?",isCouponUsed:"?",card_used:"?",invoiceType:"?",invoiceTitle:"?",invoiceKind:"?",is_seperate:"?",group_id:"?",osType:"?",is_sensitive:"?",ticket:"?",pcash:"?",has_captcha:"?",captcha:"?",pay_pwd:"?","package":"?",vouchers:"?",use_score:"?",cookie_id:"",channel_edm_code:"?",channel_adr_id:"?",channel_alliance_id:"?",is_overseas:"?",merchant_id:"?",overseas_mode:"?",overseas_customs:"?",overseas_provider:"?",is_vvip:"?",ogno:"?",ogseq:"?",shop_point:"?",verification_code:"?",vvip_pwd:"?",card_number:"?",pre_sale_type:"?",mobile:"?"},method:"post"},orderList:{apiName:"orderGetorderlist",isOnlyData:1,post:{apiVersion:e.apiVersion,areaCode:"?",token:"?",body:"??"},body:{onePageSize:"?",pageIndex:"?",orderType:"?",isGroup:"?"},method:"post"},returnList:{url:e.mDomain+"api/ReturnOrderList/Index",isOnlyData:1,post:{apiVersion:e.apiVersion,areaCode:"?",token:"?",body:"??"},body:{onePageSize:"?",pageIndex:"?",orderType:"?"},method:"post"},orderDetail:{apiName:"orderGetorderdetail",isOnlyData:1,post:{areaCode:"?",token:"?",body:"??"},body:{orderId:"?"},method:"post"},returnDetail:{apiName:"orderGetreturndetail",isOnlyData:1,post:{areaCode:"?",token:"?",body:"??"},body:{orderId:"?",returnId:"?"},method:"post"},supplierReturnDetail:{url:e.mDomain+"api/ReturnOrderDetail/SupplierReturnDetail",isOnlyData:1,post:{apiVersion:e.apiVersion,token:"?",body:"??"},body:{id:"?"},method:"post"},getShipDetail:{apiName:"orderGetshipdetail",isOnlyData:1,post:{areaCode:"?",token:"?",body:"??"},body:{orderId:"?",pick_seq:"?"},method:"post"},getShipDetailV2:{apiName:"orderGetshipdetail",isOnlyData:1,post:{areaCode:"?",token:"?",body:"??"},body:{orderId:"?",dsNo:"?",subOrdersId:"?"},method:"post"},getOrderSummary:{apiName:"orderGetordersummary",isOnlyData:1,post:{areaCode:"?",token:"?",body:""},method:"post"},getReturnAdminOrder:{apiName:"orderGetreturnadminorder",isOnlyData:1,post:{areaCode:"?",token:"?",body:"??"},body:{orderId:"?"},method:"post"},confirmReceived:{apiName:"orderConfirmreceived",isOnlyData:1,post:{areaCode:"?",token:"?",body:"??"},body:{type:"",orderId:"",package_info:""},method:"post"},deleteOrder:{apiName:"orderInvisibleorder",isOnlyData:1,post:{apiVersion:e.apiVersion,areaCode:"?",token:"?",body:"??"},body:{ogSeq:"?"},method:"post"},getVvipCardList:{url:e.sappsDomain+"vvip/getVvipCardNumList",isOnlyData:1,post:{apiVersion:e.apiVersion,token:"?",body:"??"},body:{},method:"post"},delVvipCard:{url:e.sappsDomain+"vvip/delVvipCardNums",isOnlyData:1,post:{apiVersion:e.apiVersion,token:"?",body:"??"},body:{plseq:"?"},method:"post"},addVvipCard:{url:e.sappsDomain+"vvip/addVvipCardNum",isOnlyData:1,post:{apiVersion:e.apiVersion,token:"?",body:"??"},body:{card_num:"?"},method:"post"},getShopPoint:{url:e.sappsDomain+"vvip/getVvipShopPoint",isOnlyData:1,post:{apiVersion:e.apiVersion,token:"?",body:"??"},body:{card_num:"?"},method:"post"},getCellPhoneCheckCode:{url:e.sappsDomain+"vvip/getVerificationCode",isOnlyData:1,post:{apiVersion:e.apiVersion,token:"?",body:"??"},body:{card_num:"?",shop_point:"?",is_overseas:"?",zip:"?",is_seperate:"?",group_act_seq:"?",group_seq:"?",card_used:"?",vouchers:"?",use_score:"?"},method:"post"}}}),define("model/order",["lib/common","api/order"],function(e,t){function n(){var t={token:e.cookie.getH5("token"),areaCode:e.cookie.getH5("siteid"),body:{onePageSize:10,pageIndex:1,orderType:1}};return t}function r(n,r){var i={token:e.cookie.getH5("token"),areaCode:e.cookie.getH5("siteid"),body:{areaCode:"",action:1,orderId:"",pay_code:"",consigee:"",pointId:"",isCouponUsed:0,isCardUsed:0,invoiceType:0,invoiceTitle:"",isSeperate:1,osType:3,is_sensitive:"",ticket:"",pcash:"",has_captcha:0,captcha:"",order_flag:"",channel_edm_code:"",channel_adr_id:"",channel_alliance_id:""}},n=n||{};n.body&&e.merge(i.body,n.body),e.xsr(e.makeUrl(t.adminOrder,i),function(e){try{r&&r(e)}catch(t){throw t}})}function i(r,i){var s=n(),r=r||{};r.body&&e.merge(s.body,r.body),e.xsr(e.makeUrl(t.orderList,s),function(e){try{i&&i(e)}catch(t){throw t}})}function s(r,i){var s=n(),r=r||{};r.body&&e.merge(s.body,r.body),e.xsr(e.makeUrl(t.returnList,s),function(e){try{i&&i(e)}catch(t){throw t}})}function o(r,i){var s=n(),r=r||{};r.body&&e.merge(s.body,r.body),e.xsr(e.makeUrl(t.orderDetail,s),function(e){try{i&&i(e)}catch(t){throw t}})}function u(r,i){var s=n(),r=r||{};r.body&&e.merge(s.body,r.body),e.xsr(e.makeUrl(t.returnDetail,s),function(e){try{i&&i(e)}catch(t){throw t}})}function a(r,i){var s=n(),r=r||{};r.body&&e.merge(s.body,r.body),e.xsr(e.makeUrl(t.supplierReturnDetail,s),function(e){try{i&&i(e)}catch(t){throw t}})}function f(n,r){var i={token:e.cookie.getH5("token"),areaCode:e.cookie.getH5("siteid"),body:{}},n=n||{};n.body&&e.merge(i.body,n.body),e.xsr(e.makeUrl(t.getOrderSummary,i),function(e){try{r&&r(e)}catch(t){throw t}})}function l(n,r){var i={token:e.cookie.getH5("token"),areaCode:e.cookie.getH5("siteid"),body:{orderId:""}},n=n||{};n.body&&e.merge(i.body,n.body),e.xsr(e.makeUrl(t.getReturnAdminOrder,i),function(e){try{r&&r(e)}catch(t){throw t}})}function c(r,i,s){var o=n(),i=i||{};i.body&&e.merge(o.body,i.body),e.xsr(e.makeUrl(t[r],o),function(e){try{s&&s(e)}catch(t){throw t}})}function h(n,r){var i={token:e.cookie.getH5("token"),areaCode:e.cookie.getH5("siteid"),body:{type:"",orderId:"",package_info:""}},n=n||{};n.body&&e.merge(i.body,n.body),e.xsr(e.makeUrl(t.confirmReceived,i),function(e){try{r&&r(e)}catch(t){throw t}})}return{createOrder:r,getOrderList:i,getOrderDetail:o,getReturnDetail:u,getSupplierReturnDetail:a,getOrderSummary:f,getReturnAdminOrder:l,confirmReceived:h,ge:c,getReturnOrderList:s}}),define("widget/popAlert",["lib/common"],function(e){function t(t,n,r){if(typeof t=="undefined")return"";var i=n?"popbg tmbg":"popbg",r=r||3e3;window.popAlertIndex=(window.popAlertIndex||0)+1;var s="popalert_"+window.popAlertIndex,o=['<div class="'+i+'" id="'+s+'" >','<div class="popbox">','<p class="poptxt">'+t+"</p>","</div></div>"].join("");e("body").append(o);var u=e("#"+s);u.on("click",function(){u.remove()}),setTimeout(function(){u.remove()},r)}function n(t,n,r){if(typeof t=="undefined")return"";window.popAlertIndex=(window.popAlertIndex||0)+1;var i="popalert_"+window.popAlertIndex,s="close_popalert_"+window.popAlertIndex,o="fun_popalert_"+window.popAlertIndex,u=s,a="",f="";typeof n=="function"&&(u=o,a='<p id="'+s+'">取消</p>',f='<p class="poptip">提示</p>');var l=['<div class="popbg" id="'+i+'">','<div class="popbox">',f,'<p class="poptxt">'+t+"</p>",'<div class="popbtnbox">',a,'<p id="'+u+'">确定</p>',"</div></div></div>"].join("");e("body").append(l);var c=e("#"+i);e("#"+s).on("click",function(){c.remove()}),e("#"+o).on("click",function(){n(r),c.remove()})}function r(t,n,r,i){if(typeof t=="undefined")return"";if(typeof n=="undefined")return"";window.popAlertIndex=(window.popAlertIndex||0)+1;var s="popalert_"+window.popAlertIndex,o="close_popalert_"+window.popAlertIndex,u="fun_popalert_"+window.popAlertIndex,a=o,f="",l="";typeof i=="function"&&(a=u,f='<p id="'+o+'">取消</p>',l='<p class="poptip">'+t+"</p>");var c=['<div class="popbg" id="'+s+'">','<div class="popbox">',l,'<input type="'+r+'" class="popinput" placeholder="'+n+'" />','<div class="popbtnbox">',f,'<p id="'+a+'">确定</p>',"</div></div></div>"].join("");e("body").append(c);var h=e("#"+s);e("#"+o).on("click",function(){h.remove()}),e("#"+u).on("click",function(){i(),h.remove()})}function i(t){if(typeof t.msg=="undefined")return"";if(typeof t.one=="undefined"||typeof t.one.name=="undefined")return"";var n="",r="";t.icon&&t.icon.isIcon&&(n=t.icon.iconClass?t.icon.iconClass:"situs",r='<i class="'+n+'"></i>');var i=t.tip?t.tip:"提示";window.popAlertIndex=(window.popAlertIndex||0)+1;var s="popalert_"+window.popAlertIndex,o="one_popalert_"+window.popAlertIndex,u="two_popalert_"+window.popAlertIndex,a=t.popClass||"",f="";t.one&&(f+='<p id="'+o+'">'+t.one.name+"</p>"),t.two&&t.two.name!=""&&(f+='<p id="'+u+'">'+t.two.name+"</p>");var l=t.id||"",c=['<div class="popbg '+a+'" id="'+s+'">','<div class="popbox '+l+'">',r,'<p class="poptip">'+i+"</p>",'<p class="poptxt">'+t.msg+"</p>",'<div class="popbtnbox">',f,"</div></div></div>"].join("");e("body").append(c),typeof t.initFun=="function"&&t.initFun(s);var h=e("#"+s),p=function(){h.remove()},d=typeof t.one.fun=="function"?function(){var e=t.one.noClose?t.one.noClose:0;e||p(),t.one.fun()}:p;e("#"+o).on("click",d);if(t.two&&t.two.fun!=""){var v=typeof t.two.fun=="function"?function(){var e=t.two.noClose?t.two.noClose:0;e||p(),t.two.fun()}:p;e("#"+u).on("click",v)}}return{popalert:t,popconfirm:n,popinput:r,popdefine:i}}),define("widget/util",[],function(){return{getTime:function(){return(new Date).getTime()},oneOrZero:function(){return Math.round(Math.random())},padZero:function(e,t){var n=e.toString();do{var r=n.indexOf(".")>-1?n.indexOf("."):n.length;r<t&&(n="0"+n)}while(r<t);return n},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"").replace(/(^　*)|(　*$)/g,"")},getId:function(e){return document.getElementById(e)},dateFormat:function(e,t){var e=new Date(e),n={M:e.getMonth()+1,d:e.getDate(),h:e.getHours(),m:e.getMinutes(),s:e.getSeconds(),q:Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()},t=t.replace(/([yMdhmsqS])+/g,function(t,r){var i=n[r];return i!==undefined?(t.length>1&&(i="0"+i,i=i.substr(i.length-2)),i):r==="y"?(e.getFullYear()+"").substr(4-t.length):t});return t},escapeHtml:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return String(e).replace(/[&<>"'\/]/g,function(e){return t[e]})},countdown:function(e,t,n,r){var i=setInterval(function(){if(0>=e){clearInterval(i);try{r&&r()}catch(s){throw s}return}var o=--e;e<10&&(o="0"+e),n.innerHTML=o+t},1e3)},xss:function(e){return e==undefined||typeof e!="string"?e:(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;"),e)}}}),define("widget/imgHelper",["lib/common"],function(e){function n(e){if(typeof t[e]!="undefined")return t[e];var n=new Image;n.src=e,t[e]=n.src}var t={};return{set_getImg:n}}),define("widget/templateHelper",["lib/common","widget/util","widget/imgHelper"],function(e,t,n){return{helper:function(){e.tpl.helper("dateFormat",function(e,n){var r=t.dateFormat(e,n);return r}),e.tpl.helper("dateTimeFormat",function(e,n){var r=/^(\d{4})(-|\/|\.)(\d{1,2})\2(\d{1,2})(\s+(\d{1,2}):(\d{1,2}):(\d{1,2}))*$/,i=e.match(r);if(i){var s=i[1],o=parseInt(i[3],10)-1,u=i[4],a=i[6]||"",f=i[7]||"",l=i[8]||"",c=new Date(s,o,u,a,f,l),h=c.getTime();return t.dateFormat(h,n)}return""}),e.tpl.helper("timeStampFormat",function(e,n){return t.dateFormat(e||0,n||"")}),e.tpl.helper("dateYMDFormat",function(e,t){var n=e||"",r=t||"";return n.split(" ")[0].replace(/[\.\-\\]/g,"/")}),e.tpl.helper("pointKind",function(e){var t=e||"",n="";switch(t){case"point":n="抵用券";break;case"voucher":n="优惠券";break;case"bonus":n="购物金"}return n}),e.tpl.helper("priceFormat",function(e,t){var t=t||0,e=e||0;return t==0?e=parseFloat(e):t==-1?e=parseInt(e):e=parseFloat(e).toFixed(t),e}),e.tpl.helper("idcardFormat",function(t){if(e.isNull(t))return;var n=4,r=4,i=t.length-n-r,s="";for(var o=0;o<i;o++)s+="*";return t.substr(0,n)+s+t.substr(t.length-r)}),e.tpl.helper("phoneOrEmailFormat",function(t,n){if(e.isNull(t))return;if(n==1){var r=3,i=4,s=t.length-r-i,o="";for(var u=0;u<s;u++)o+="*";return t.substr(0,r)+o+t.substr(t.length-i)}var a=t.substring(0,t.indexOf("@")),f=t.substring(t.indexOf("@"),t.length),r=1,i=1,s=a.length-r-i,o="";for(var u=0;u<s;u++)o+="*";return t.substr(0,r)+o+a.substr(a.length-i)+f}),e.tpl.helper("priceFormat2",function(e){return typeof e=="string"&&(e=parseFloat(e)),isNaN(e)?"0.00":e.toFixed(2)}),e.tpl.helper("getImg",function(e){return n.set_getImg(e)}),e.tpl.helper("intDecimalPrice",function(e,t){var e=e||"0.00",t=t||1,n="";typeof e!="string"&&(e=e.toString());switch(t){case 1:return((e.replace(",","")|0)+"").replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,");case 2:return n=e.split(".")[1],n=n===undefined?"00":n.length==1?n+"0":n,n}}),e.tpl.helper("deCodeHtml",function(e){return e.replace(/&gt;/gi,">").replace(/&lt;/gi,"<")}),e.tpl.helper("removeTag",function(e){return e.replace(/\<[^\<|^\>]*\>/gi,"")}),e.tpl.helper("forNumOpt",function(e){var t="";e=parseInt(e,10);for(var n=1;n<=e;n++)t+='<option value="'+n+'">'+n+"</option>";return t})}}}),define("widget/page",["lib/common"],function(e){e.pageScroll=function(t){var n,r=navigator.userAgent;e(window).on("scroll",function(){clearTimeout(n),n=setTimeout(function(){var n=e("body").height(),i=0;r.match(/Firefox/i)=="Firefox"&&(i=20),e(this).height()+e(this).scrollTop()+i>=n&&t()},200)})}}),define("widget/gotoTopV2",["lib/common"],function(e){function n(){var e=document.body.scrollTop||document.documentElement.scrollTop;e<=0?t.hide():t.show()}function r(){var r='<p class="gotop J_goTop"></p>';e("body").append(r),t=e(".J_goTop"),n(),s(),e(window).on("scroll",function(){n()})}function i(e){var t=e||t;t.preventDefault(),window.scrollTo(0,0);var n={track_tag_name:"1012",result:"",page_content:"",track_type:"2",message:"-9"};typeof h5stat=="object"&&h5stat.shangbao(n)}function s(){e(".J_goTop").click(function(e){i(e)})}var t;return{init:s,goTop:i,initialize:r}}),define("widget/loadingV2",["lib/common"],function(e){function u(t,n,s,u){f();var l=e.extend(!0,{},o);typeof t=="object"?e.extend(!0,l,t):(l.off=t,l.topOn=typeof s=="boolean"?s:l.topOn,l.D_dom=u||l.D_dom,typeof n=="boolean"?(l.name=r,l.topOn=n):typeof n=="object"?(l.D_dom=n,l.name=i,l.topOn=!1):l.name=n||r),a(l)}function a(e){var n,r=0;n=t[e.name]||!1;if(n)return typeof e.off=="undefined"||typeof e.off=="string"?t[e.off||e.name].data("count")>>0:(r=n.data("count")>>0,e.off?(n.data("count",++r),r==1&&(e.D_dom.append(n),h(n,e),e.topOn&&e.name!="none"&&c(n,e.topOn))):(n.data("count",--r),r<=0&&(l(n,e),e.name!="none"&&c(n,!1))),name)}function f(){e("[data-load-name]").each(function(){var n=e(this);t[n.data("load-name")]=n})}function l(e,r){typeof e=="string"?e=t[e]:typeof e=="undefined"&&(e=t[r.name]),e.data("count",0),e.remove(),n.off("scroll.loading")}function c(t,r){var i=[],o=e(".top_nav");e.each(s,function(t,n){i=e(n);if(i.length)return!1}),r&&i.length?(n.off("scroll.loading").on("scroll.loading",function(){var e=i.height()+i.offset().top,r=e-n.scrollTop(),s=n.height()-r;t.css({"padding-top":r>0?r:0})}),h(i),i.addClass("z100")):(n.off("scroll.loading"),t.css({"padding-top":""}),i.removeClass("z100")),o.length&&(r?o.addClass("z100"):o.removeClass("z100"))}function h(e){e&&e.off("touchmove.preventDefault").on("touchmove.preventDefault",function(){event.preventDefault()})}var t={none:e("<div></div>"),p1:e('<p class="loading_pop all"><b></b></p>'),p2:e('<p class="loading_btm"><b></b><i>正在努力加载...</i></p>'),v2:e('<p class="loading_pop all"><b></b></p>')},n=e(window),r="p1",i="p2",s=["[data-loading-top]","header",".top_box"];(function(){var n=navigator.userAgent.toLowerCase();if(n.indexOf("qqbrowser")>-1||n.indexOf("ucbrowser")>-1){t.p2=e('<p class="loading_btm"><em></em><i>正在努力加载...</i></p>'),t.p1=e('<p class="loading_pop all"><em></em></p>'),t.v2=e('<p class="loading_pop all"><em></em></p>');var r=1;setInterval(function(){var n=r%18;e.each(t,function(){e(".loading_pop").find("em").css("background-position",-0.9*n+"rem 0")}),r++},40)}})();var o={off:r,name:r,topOn:!0,D_dom:e("body")};return{on:u,off:l}}),function(e){function t(t){function n(){if(this.udid)return this.udid;var e="",t=this.getTime();return e+="H5_"+t+this.randomString(10),this.udid=e,e}t=t||{},this.ua=navigator.userAgent,this.udid="",this.env=null,this.resolution=e.screen.width+"|"+e.screen.height,this.cookieDomain=function(){var e=/m\.feiniu\.com/i.test(location.href);return e?".feiniu.com":location.hostname.split(".").slice(-2).join(".")},this.getTime=function(){return(new Date).getTime()},this.randomString=function(e){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");e||(e=Math.floor(Math.random()*t.length));var n="";for(var r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n},this.createUdid=typeof t.createUdid=="function"?t.createUdid:n,this.getcookie=function(e){var t=new RegExp("(^|;|\\s+)"+e+"=([^;]*)(;|$)"),n=document.cookie.match(t);return n?decodeURIComponent(n[2]):""},this.addcookie=function(e,t,n,r,i){var s=e+"="+encodeURIComponent(t)+"; path="+(n||"/")+(i?"; domain="+i:"");if(r>0){var o=new Date;o.setTime(o.getTime()+r*1e3),s+=";expires="+o.toGMTString()}document.cookie=s},this.delcookie=function(e,t,n){arguments.length==2&&(n=t,t="/"),document.cookie=e+"=;path="+t+";"+(n?"domain="+n+";":"")+"expires=Thu, 01-Jan-70 00:00:01 GMT"},this.getUdid=function(){var e="th5_stat_udid",t=this.getcookie(e);if(t)return t;var n=this.createUdid(),r=31536e3,i=/feiniu\.com/i.test(location.href),s=".feiniu.com";return i||(s=location.hostname.split(".").slice(-2).join(".")),this.addcookie(e,n,"/",r,s),n},this.getEnv=function(){if(this.env!=null)return this.env;var e=["m","preview","test","dev","dev1","local"],t="m",n=location.hostname.split(".");if(n[0])for(var r in e)if(e[r]==n[0]){t=n[0];continue}return this.setEnv(t),t},this.setEnv=function(e){this.env=e},this.getSystemType=function(){var e=this.ua;e=e.toLowerCase();var t="";return e.indexOf("android")>-1||e.indexOf("linux")>-1?t="android":e.indexOf("iphone")>-1||e.indexOf("ipad")>-1||e.indexOf("itouch")>-1||e.indexOf("ipod")>-1||e.indexOf("mac")>-1?t="ios":e.indexOf("windows phone")>-1?t="wp":t="windows",t},this.mix=function(){var e={};for(var t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)r in e?n[r]!=undefined&&(e[r]=n[r]):e[r]=n[r]}return e},this.getUrlParam=function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=location.search.substr(1).match(t);return n!=null?decodeURIComponent(n[2]):null},this.getMessage=function(){var e=this.getUrlParam("fromtype");return e==null&&(e=document.referrer?document.referrer:""),e},this.getRemarksCfg=function(){var e={terminal_os_ver:"",model:"",brand:"",resolution:this.resolution,browser_type:"",mac:""};return JSON.stringify(this.mix(e))},this.isClient=function(){var e="th5_stat_token",t=86400,n=this.getcookie("th5_token")||"",r=this.getcookie("th5_stat_token")||"";if(n&&r==n)return"";if(r=="-1")return n&&this.addcookie(e,n,"/",t,this.cookieDomain()),"";if(r!=n||!r){var n=n||"-1";this.addcookie(e,n,"/",t,this.cookieDomain())}return this.getRemarksCfg()};var r=this.getTime(),i=this.getcookie("th5_username")||"",s=this.getcookie("th5_sitename")||"",o=this.getcookie("th5_mem_guid")||"";!o&&i&&(o=i),this.getLandingUrl=function(){var t="th5_landing_url",n=this.getcookie(t)||"",r=1800;if(n)return this.addcookie(t,n,"/",r,this.cookieDomain()),n;var i=e.location.href;return this.addcookie(t,i,"/",r,this.cookieDomain()),i},this.getLandingSession=function(){var e="th5_landing_session",t=this.getcookie(e)||"",n=1800;if(t)return this.addcookie(e,t,"/",n,this.cookieDomain()),t;var r="";return r+="H5_"+this.getTime()+this.randomString(10),this.addcookie(e,r,"/",n,this.cookieDomain()),r},this.setLandingSession=function(e){var t="th5_landing_session",n=1800;this.addcookie(t,e,"/",n,this.cookieDomain())},this.getAppid=function(){var e=navigator.userAgent;e=e.toLowerCase();if(navigator.userAgent.indexOf("feiniuapp")>-1){var t=navigator.userAgent.split(" ");for(var n=0;n<t.length;n++)if(t[n].indexOf("feiniuapp")>-1){var r=t[n].split("/"),i=r[1].toLowerCase();if(i=="android")return 1;if(i=="iphone")return 2;if(i=="ipad")return 4;if(i=="winphone")return 5}}else{if(this.getUrlParam("osType")&&this.getUrlParam("osType")!="")return e.match(/MicroMessenger/i)=="micromessenger"?9:this.getUrlParam("osType");if(e.match(/MicroMessenger/i)=="micromessenger")return 9}return 3},this.statAppVal=function(){var e={},t=this.getcookie("th5_stat_app");if(t)try{e=JSON.parse(t)}catch(n){}if(typeof e=="undefined"||!e)e={};return e},this.urlConfigParam={udid:this.getUdid(),mem_guid:o,user_name:i,terminal_os:this.getSystemType(),track_code:this.getcookie("th5_channel_edm_code")||"",network:"",gps:"",city:s,track_tag_name:"",result:"",page_content:"",message:"",cur_req_url:location.href,landing_url:"",session_id:"",track_type:1,referer_url:document.referrer||"",startTime:r,endTime:r,abtest:0,remarks:"",ver:"",traffic_channel:"",dev_type:this.getAppid(),ref_page_id:"",client_type:0},this.shangbao=function(t,n,r){var i="",s=this.getEnv();s=="m"?i="http://flume.feiniu.com/AppCollectLogs/AddH5Log?v="+this.getTime():s=="preview"?i="/stat.php?env=preview&v="+this.getTime():i="/stat.php?env=test&v="+this.getTime(),i+=this.randomString(2);var t=t||{};t.message=="-9"&&(t.message=this.getMessage());var o=this.statAppVal();typeof o=="object"&&(t.client_type=o.client_type,t.ver=o.ver,t.traffic_channel=o.traffic_channel,t.gps=o.gps,t.network=o.network,o.session_id&&this.setLandingSession(o.session_id)),t.landing_url=this.getLandingUrl(),t.session_id=this.getLandingSession();var u=this.mix(this.urlConfigParam,t);for(j in u)u[j]=="-9"&&(u[j]="0"),i+="&"+j+"="+encodeURIComponent(u[j]);typeof n!="function"&&(n=function(){});if(navigator.sendBeacon)navigator.sendBeacon(i,""),n();else{var a=new Image,f;try{var l=new $.Deferred,c=function(){a.removeEventListener("load",c,!1),a.removeEventListener("error",c,!1),clearTimeout(f),n(),l.resolve()};a.addEventListener("load",c,!1),a.addEventListener("error",c,!1),f=setTimeout(c,r||1e3),a.src=i,e._deferRedirect=l}catch(h){a.src=i,n()}}}}var n={isObj:0,shangbao:function(e,n,r){var i="";if(this.isObj)i=this.isObj;else{i=new t(this.opt),this.isObj=i;if(e.h5_type=="edm"){if(i.getUrlParam("tracking_type")!="h5_edm")return"";var s=i.getUrlParam("type");(s=="h5_dev"||s=="h5_test"||s=="h5_beta")&&i.setEnv("test")}var o=i.isClient();if(o){var u={track_tag_name:"1000",result:"",page_content:"",message:"-9",track_type:"6",remarks:o};i.shangbao(u,n,r)}}i.shangbao(e,n,r)},getRemarksCfg:function(){var e="";return this.isObj?e=this.isObj:(e=new t,this.isObj=e),e.getRemarksCfg()}};e.h5stat=n;if(typeof define=="function"&&define.amd)define("widget/stat",["lib/common"],function(t){return e.h5stat});else if(typeof e.Zepto=="undefined"){var r=document.createElement("script");r.src=e.feiniu.url.jsBase+"/lib/zepto.min.js";var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(r,i)}}(window),define("widget/slide_v2",["lib/common"],function(e){"use strict";function t(e,t){function y(){u={},a={},f={},l=0,c=0,h=0,d=!1,p=0;var o=e.getBoundingClientRect(),v=o&&(o.width||o.right-o.left)||e.offsetWidth,m=r.children,g=m.length-s;c=v/i|0,l=g*c,r.style.width=l+"px",e.style.overflow="hidden";for(var y=0;y<g;y++)m[y].style.width=c+"px";typeof t.initCompleteCallback=="function"&&t.initCompleteCallback.call(n,l),h=n.addPx||0,s=n.cutNum}function b(e){var e=e||function(){};setTimeout(e,0)}function w(e){return e&&e.getAttribute("data-index")=="0"||e.getAttribute("data-index")?e:e.parentElement?w(e.parentElement):{}}function E(e,t){var n=o!==0&&!o?o:o,e=e|0,t=t|0,s=["transitionDuration","webkitTransitionDuration","MozTransitionDuration","OTransitionDuration","msTransitionDuration"],u=s.length,a=e+(f.x||0);a>0&&(a=0,f.x=a);var d=Math.abs(e)/e;d>0&&(p=0),a<-l+i*c-h?(a=-l+i*c-h,f.x=a):p=0,r.style.webkitTransform="translateX("+a+"px)"+"translateZ(0)",r.style.msTransform=r.style.MozTransform=r.style.OTransform="translateX("+a+"px)"}var n=this,e=e||{},r=e.children&&e.children[0],t=t||{},i=t.showNum||3,s=t.cutNum||0,o=t.speed||300,u={},a={},f={},l=0,c=0,h=0,p=0,d=!1,v=t.touchFlag||"ontouchstart"in window,m,g;if(!e||!r)return;var S={handleEvent:function(e){switch(e.type){case"touchstart":this.touchStart(e);break;case"touchmove":this.touchMove(e);break;case"touchend":b(this.touchEnd(e));break;case"transitionend":case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":b(this.transitionEnd(e));break;case"resize":b(y)}},changeHandlerEvent:function(e){},touchStart:function(e){var e=e||window.event,t=e.touches[0]||{};u={x:t.pageX,y:t.pageY,time:new Date},r.addEventListener("touchmove",this,!1),r.addEventListener("touchend",this,!1)},touchMove:function(e){d=!0;var e=e||window.event;if(e.touches.length>1||e.scale&&e.scale!==1)return;var t=e.touches[0],n=t.pageX-u.x,r=t.pageY-u.y;a={x:n,y:r};var i=!1;r>3&&(i=!0),r<-3&&(i=!0),i||e.preventDefault(),E(a.x,a.y)},touchEnd:function(e){if(!d)return;d=!1,f.x=(f.x||0)+a.x,f.y=(f.y||0)+a.y,p>=1&&typeof t.ontranslateComplete=="function"&&t.ontranslateComplete(),p++,r.removeEventListener("touchmove",this,!1),r.removeEventListener("touchend",this,!1)},transitionEnd:function(e){}};y(),window.addEventListener?(v&&v!="disable"&&r.addEventListener("touchstart",S,!1),g&&(r.addEventListener("webkitTransitionEnd",S,!1),r.addEventListener("msTransitionEnd",S,!1),r.addEventListener("oTransitionEnd",S,!1),r.addEventListener("otransitionend",S,!1),r.addEventListener("transitionend",S,!1)),window.addEventListener("resize",S,!1)):window.onresize=function(){y()};if(m<=i)return}return{slide:t}}),require(["lib/common","model/order","widget/popAlert","widget/templateHelper","widget/page","widget/util","widget/gotoTopV2","widget/loadingV2","widget/stat","widget/slide_v2","config/url"],function(e,t,n,r,s,o,u,a,f,l,c){function g(r,s){var u=10,h={body:{onePageSize:u,pageIndex:r,orderType:p}};e.isNull(d)||(h.body.isGroup=d),r!=1&&e(".loadingBtm").show(),t.getOrderList(h,function(u){r==1?a.on(!1,"v2",1):e(".loadingBtm").hide();if(u.errorCode==0&&u.body){if(r==1&&u.body.orderList.length==0)return e("#blank").show(),!1;for(i in u.body.orderList){var h=u.body.orderList[i];h.iswuliu=0,h.wl_ds_no="",h.wl_sub_order_id="",h.is_oversea=0;if(h.dsList&&h.dsList.length>0){h.imgArr=[];for(j in h.dsList){var d=h.dsList[j];d.isMoreShip==1&&(h.iswuliu=1,h.wl_ds_no=d.ds_no,h.wl_sub_order_id=d.subOrdersId),d.oversea==1&&(h.is_oversea=1),d.arrImg=[];if(d.mList&&d.mList.length>0)for(k in d.mList){var v=d.mList[k];function g(e){var t=e.length;if(t<=0)return!1;for(var n=0;n<t;n++)d.arrImg.push({it_pic:e[n].it_pic,it_name:e[n].itname})}h.totalCount==1?!v.productMain&&v.main&&d.arrImg.push({it_pic:v.main.it_pic,it_name:v.main.sm_name}):v.productCombo&&v.main&&d.arrImg.push({it_pic:v.main.it_pic,it_name:v.main.sm_name}),v.productMain&&g(v.productMain),v.fixed_collocation&&g(v.fixed_collocation),v.free_collocation&&g(v.free_collocation),v.gift&&g(v.gift),v.suggested&&g(v.suggested),v.accessories&&g(v.accessories)}d.arrImg.forEach(function(e){h.imgArr.push(e)}),d.operationList.length==1&&e.isEmptyObject(d.operationList[0])&&(d.operationList.length=0),d.operationList&&d.operationList.length>0&&d.operationList.reverse()}}}e.log(u),m=u.body.totalPageCount,r==m&&e(".noMore").show();var y=o.xss(e.url.getParam("isGroup"));u.body.isGroup=y?"&isGroup=1":"",u.body.accounttype=e.cookie.getH5("accountType")||0,e.tplRender("tpl_list",u.body),console.log(u.body),e.isFunction(s)&&s(),e(".J_slide").forEach(function(t){var n=e(t).attr("id"),r=e(t).data("imgnum");r>3?new l.slide(document.getElementById(n),{showNum:4}):new l.slide(document.getElementById(n),{showNum:4,touchFlag:"disable"})}),e(".J_confirmReceived").off("click").on("click",function(){var r=e(this),i=r.attr("data-dstype").toString(),s=r.attr("data-orderid").toString(),o=i=="1"?r.attr("data-fdlseq").toString():r.attr("data-subid").toString(),u={body:{type:i,orderId:s,package_info:o}};n.popconfirm("请确认您已收到货",function(){a.on(!0,"v2",1),t.confirmReceived(u,function(e){a.on(!1,"v2",1),e.errorCode==0?(r.parent("li").append("<em>交易成功</em>"),r.remove()):n.popalert("系统故障，确认收货失败")})})});var b=e(".moumou_chat_h").data("smseq");b&&(f.shangbao({track_tag_name:"7003",message:"3",track_type:"2"}),setTimeout(function(){e(".moumou_chat").off("click").on("click",function(){var t=e(this).data("smseq"),n=e(this).data("itno"),r=null;n?r=c.mmDomain+"webim/index/"+t+"?skuid="+n:r=c.mmDomain+"webim/index/"+t,e.url.redirect(r)}),e(".moumou_chat_h").css("display","block")},200));var w=1;p==1&&(w=2),p==2&&(w=7),p==3&&(w=3);var E={track_tag_name:"5008",result:r,page_content:w,track_type:"2",message:"-9"};f.shangbao(E)}else n.popalert("系统问题，请稍后再试！"),setTimeout(function(){e.url.redirect(e.url.getTouchBaseUrl()+"my/index.html")},3e3)})}u.initialize(),e.url.options.backUrl=e.url.getTouchBaseUrl()+"my/index.html",e.url.options.pageClass={gotoUrl:e.url.href.URL},a.on(!0,"v2",1);if(e.cookie.getH5("islogin")!=1){var h=e.url.getTouchBaseUrl()+"my/order/index.html";e.url.redirect(e.url.getTouchBaseUrl()+"login/index.html?gotourl="+encodeURIComponent(h));return}var p=o.xss(e.url.getParam("status"));e.isNull(p)&&(p="0");var d=o.xss(e.url.getParam("isGroup"));e.tplRender("tpl_tit",{stype:p,isGroup:d});var v="";switch(p){case"0":v="您暂时还没有任何订单，快去逛逛吧！";break;case"1":v="目前没有订单需要付款";break;case"3":v="目前没有待收货的订单";break;case"2":v="目前没有待发货的订单"}e("#blankTxt").html(v);var m=1;e.getToken(function(){var t=1;r.helper(),g(t,function(){e.pageScroll(function(){t+=1;if(t>m)return!1;g(t)})})});var y="5025";p==1&&(y="5034"),p==2&&(y="5061"),p==3&&(y="5035");var b={track_tag_name:y,result:"",page_content:"",message:"-9"};f.shangbao(b)}),define("controller/my/order/indexV2_2",function(){});